@{
    ViewData["Title"] = "Expense Category";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="m-3">
    <div class="row">
        <div class="col justify-content-center align-self-center">
            <h4 class="page-header">Expense Category</h4>
        </div>
        <div class="col text-right">
            <a id="CreateClick" data-url="/ExpenseCategories/Create" class="btn-floating peach-gradient" title="Add New" data-toggle="modal">
                <i class="fa fa-plus" aria-hidden="true"></i>
            </a>
        </div>
    </div>

    <table id="data-table" class="table table-sm table-bordered">
        <thead>
            <tr>
                <th>Category Name</th>
                <th style="width:30px">Edit</th>
                <th style="width:30px">Delete</th>
            </tr>
        </thead>
        <tbody id="table-body"></tbody>
    </table>

    <!-- Insert Modal -->
    <div class="modal fade" id="InsertModal" tabindex="-1" role="dialog" aria-hidden="true"></div>
    <!-- Update Modal -->
    <div class="modal fade" id="UpdateModal" tabindex="-1" role="dialog" aria-hidden="true"></div>
</div>



@section Scripts {
    <partial name="_UnobtrusiveAjaxPartial" />
    <script src="~/page-js/expense-category.js?v=1"></script>

    <script>
        //Insert
        //$("#CreateClick").on("click", function () {
        //    $.get($(this).data("url"), function (data) {
        //        $('#InsertModal').html(data).modal('show');
        //    });
        //});


        //Delete click
        //$('#data-table').on("click", ".delete", function (evt) {
        //    evt.preventDefault();

        //    var row = $(this).closest("tr");
        //    var btnDelete = $(this);
        //    const url = $(this).attr('href');

        //    $('#table-row em').remove();
        //    $('#table-row tr').removeClass("error-color");

        //    if (!url) return;

        //    if (confirm("Are you sure you want to delete?")) {
        //        $.post(url, function (response) {
        //            if (response === '-1') {
        //                row.addClass("error-color").after('<em class="used-error">This data already used in others place</em>');
        //                btnDelete.removeAttr("href");
        //                return;
        //            }
        //            row.hide();
        //        });
        //    }
        //});
    </script>
}
